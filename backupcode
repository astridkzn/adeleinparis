generate:

<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Generate — Adele in Paris</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #000;
      color: #fff;
      overflow-y: scroll;
      scrollbar-width: none;
    }
    body::-webkit-scrollbar { display: none; }

    #loading {
      text-align: center;
      padding: 60px 0;
      font-size: 1.2rem;
    }

    .grid {
      display: grid;
      gap: 20px;
      padding: 20px;
    }

    @media (min-width: 1200px) { .grid { grid-template-columns: repeat(4, 1fr); } }
    @media (min-width: 800px) and (max-width: 1199px) { .grid { grid-template-columns: repeat(3, 1fr); } }
    @media (min-width: 500px) and (max-width: 799px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 499px) { .grid { grid-template-columns: 1fr; } }

    .card {
      position: relative;
      aspect-ratio: 3 / 4;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      cursor: pointer;
      border-radius: 12px;
      overflow: hidden;
      background-size: cover;
      background-position: center;
    }

    .card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.35);
    }

    .card h3,
    .card p {
      position: relative;
      z-index: 2;
      margin: 0;
      text-shadow: 0 2px 10px rgba(0,0,0,0.8);
    }

    .card h3 {
      font-size: 1.2rem;
      font-weight: bold;
    }

    .card p {
      font-size: 1rem;
      opacity: 0.9;
    }

    .bottom-btn {
      display: block;
      margin: 30px auto 40px;
      padding: 12px 20px;
      border: none;
      background: #fff;
      color: #000;
      font-size: 1rem;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <div id="loading">Chargement…</div>
  <div id="grid" class="grid" style="display:none;"></div>

  <button class="bottom-btn" id="change-dates">Changer de dates</button>

  <script src="script.js"></script>
</body>
</html>


script.js

const sheetURL =
  "https://docs.google.com/spreadsheets/d/e/2PACX-1vS-TXMdmEEJopZfjsiTYrj2mVSf7g8srJ82XOsdumjArTMPIYhkEqBaMuICXNMnP347qAd-5OFFeXAx/pub?output=csv";

const IMAGE_BASE_URL =
  "https://raw.githubusercontent.com/astridkzn/adeleinparis/main/images/";

let recos = [];

/* =========================
   CSV PARSER
========================= */
function parseCSV(str) {
  const lines = str.trim().split("\n");
  const headers = lines.shift().split(",").map(h => h.trim());

  return lines.map(line => {
    const values = line.split(",").map(v => v.trim());
    const obj = {};
    headers.forEach((h, i) => {
      obj[h] = values[i] || "";
    });
    return obj;
  });
}

/* =========================
   DATE FILTER
========================= */
function filterByDates(data) {
  const startFilter = localStorage.getItem("startDate");
  const endFilter = localStorage.getItem("endDate");

  if (!startFilter || !endFilter) return data;

  const startDate = new Date(startFilter);
  const endDate = new Date(endFilter);

  return data.filter(r => {
    if (!r.start_date || !r.end_date) return false;

    const recoStart = new Date(r.start_date);
    const recoEnd = new Date(r.end_date);

    return recoStart <= endDate && recoEnd >= startDate;
  });
}

/* =========================
   GRID BUILDER
========================= */
function buildGrid() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";

  recos.forEach(reco => {
    const card = document.createElement("div");
    card.className = "card";

    /* --- BACKGROUND IMAGE --- */
    if (reco.background) {
      const fileName = reco.background
        .replace(/"/g, "")
        .replace(/'/g, "")
        .trim();

      const imageUrl = IMAGE_BASE_URL + fileName;

      card.style.backgroundImage = `url("${imageUrl}")`;
      card.style.backgroundSize = "cover";
      card.style.backgroundPosition = "center";
      card.style.backgroundRepeat = "no-repeat";

      // debug safe
      console.log("BG:", imageUrl);
    } else {
      card.style.background = "#000";
    }

    /* --- OVERLAY CONTENT --- */
    const content = document.createElement("div");
    content.className = "card-content";

    const title = document.createElement("h3");
    title.innerText = reco.title || "";

    const subtitle = document.createElement("p");
    subtitle.innerText = reco.subtitle || "";

    content.appendChild(title);
    content.appendChild(subtitle);
    card.appendChild(content);

    /* --- CLICK --- */
    card.onclick = () => {
      if (reco.URL) window.open(reco.URL, "_blank");
    };

    grid.appendChild(card);
  });

  document.getElementById("loading").style.display = "none";
  grid.style.display = "grid";
}

/* =========================
   FETCH & INIT
========================= */
fetch(sheetURL)
  .then(res => res.text())
  .then(csv => {
    recos = parseCSV(csv);
    recos = filterByDates(recos);

    if (recos.length === 0) {
      document.getElementById("loading").innerText =
        "Aucune reco disponible pour cette période";
      return;
    }

    buildGrid();
  })
  .catch(err => {
    console.error("CSV ERROR", err);
    document.getElementById("loading").innerText =
      "Impossible de charger les données";
  });

/* =========================
   CHANGE DATES
========================= */
document.getElementById("change-dates").onclick = () => {
  localStorage.removeItem("startDate");
  localStorage.removeItem("endDate");
  window.location.href = "index.html";
};
