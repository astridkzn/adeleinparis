<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Détail — Adèle in Paris</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Sora',sans-serif;
  background:#fff;
  color:#111;
  overflow-x:hidden;
}

/* ===== HERO ===== */
.hero{
  position:fixed;
  inset:0;
  height:100vh;
  z-index:1;
}
.hero img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.hero-content{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  z-index:2;
  opacity:0;
  animation:fadeHero .8s ease forwards;
  animation-delay:.4s;
}
@keyframes fadeHero{
  to{opacity:1}
}
.hero-content h1{
  font-size:clamp(2.5rem,7vw,6rem);
  font-weight:800;
}
.hero-content p{
  font-size:clamp(1.1rem,3vw,2rem);
  margin-top:12px;
}

/* ===== BACK BUTTON ===== */
.back-btn{
  position:sticky;
  top:20px;
  left:20px;
  width:44px;
  height:44px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.8rem;
  cursor:pointer;
  z-index:5;
  background:rgba(255,255,255,.8);
  backdrop-filter:blur(6px);
}

/* ===== SECTION ===== */
.section{
  position:relative;
  margin-top:100vh;
  padding:80px 6vw 120px;
  z-index:2;
}

/* ===== INFOS LAYOUT ===== */
.infos-wrapper{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:60px;
  margin-bottom:80px;
}
.description{
  white-space:pre-wrap;
  line-height:1.6;
  font-size:1.05rem;
}
.infos{
  display:flex;
  flex-direction:column;
  gap:24px;
}
.info-title{
  font-weight:800;
  margin-bottom:6px;
}

/* ===== GALLERY ===== */
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.gallery img{
  width:100%;
  border-radius:14px;
  object-fit:cover;
}

/* ===== GO BUTTON ===== */
.go-btn{
  position:sticky;
  bottom:20px;
  margin-left:auto;
  display:inline-block;
  background:#000;
  color:#fff;
  padding:14px 28px;
  border-radius:999px;
  font-weight:600;
  text-align:center;
  transition:.3s;
}
.go-btn:hover{
  background:#fff;
  color:#000;
}

/* ===== MOBILE ===== */
@media(max-width:768px){
  .infos-wrapper{
    grid-template-columns:1fr;
    gap:40px;
  }
  .gallery{
    grid-template-columns:1fr;
  }
}
</style>
</head>

<body>

<!-- ===== HERO ===== -->
<div class="hero">
  <img id="heroImg" alt="">
  <div class="hero-content">
    <h1 id="title"></h1>
    <p id="subtitle"></p>
  </div>
</div>

<div class="back-btn" id="backBtn" onclick="history.back()">←</div>

<!-- ===== SECTION ===== -->
<section class="section" id="section">
  <div class="infos-wrapper">
    <div class="description" id="description"></div>

    <div class="infos">
      <div>
        <div class="info-title">Dates</div>
        <div id="dates"></div>
      </div>

      <div>
        <div class="info-title">Lieu</div>
        <div id="lieu"></div>
      </div>

      <div>
        <div class="info-title">Tarif</div>
        <div id="price"></div>
      </div>
    </div>
  </div>

  <div class="gallery" id="gallery"></div>

  <a class="go-btn" id="goBtn" target="_blank">GO</a>
</section>

<script>
const reco = JSON.parse(localStorage.getItem("currentReco"));
if(!reco) location.href="index.html";

/* ===== IMAGE ===== */
const heroImg=document.getElementById("heroImg");
heroImg.src=window.innerWidth<=768 && reco.background
  ? `images/${reco.background}`
  : `images/${reco.fullscreen}`;

/* ===== TEXT ===== */
title.innerText=reco.title||"";
subtitle.innerText=reco.subtitle||"";

if(reco.color_secondary){
  title.style.color=`#${reco.color_secondary}`;
  subtitle.style.color=`#${reco.color_secondary}`;
  document.getElementById("backBtn").style.color=`#${reco.color_secondary}`;
}

/* ===== SECTION COLORS ===== */
if(reco.color){
  section.style.background=`#${reco.color}`;
  section.style.color=reco.color_secondary ? `#${reco.color_secondary}` : "#fff";
}

/* ===== DESCRIPTION ===== */
description.innerText=reco.description||"";

/* ===== DATES ===== */
function formatDate(d){
  return new Date(d).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"});
}
dates.innerText = reco.start_date && reco.end_date
  ? `${formatDate(reco.start_date)} → ${formatDate(reco.end_date)}`
  : "";

/* ===== LIEU / PRIX ===== */
lieu.innerText=reco.lieu||"";
price.innerText=reco.prix||"";

/* ===== GALLERY ===== */
let i=1;
while(reco[`photo${i}`]){
  const img=document.createElement("img");
  img.src=`photos/${reco[`photo${i}`]}`;
  gallery.appendChild(img);
  i++;
}

/* ===== GO ===== */
if(reco.URL){
  goBtn.href=reco.URL;
}
</script>

</body>
</html>
